<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Alessandro Chiri — CV</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @page { size: A4; margin: 14mm 16mm; }
    @media print {
      header, footer, #themeToggle, #langToggle, #printCv, #pdfIt, #pdfEn { display: none !important; }
      body { background: #fff !important; color: #000 !important; }
      a[href]::after { content: " (" attr(href) ")"; font-size: 9pt; }
    }
  </style>
</head>
<body class="antialiased bg-neutral-50 text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100">
  <header class="sticky top-0 z-50 bg-white/70 dark:bg-neutral-900/60 border-b">
    <nav class="mx-auto max-w-6xl px-4 py-3 flex items-center justify-between">
      <span id="siteTitle" class="font-semibold" data-i18n="siteTitle">Alessandro Chiri — CV</span>
      <div class="flex items-center gap-2">
        <button id="langToggle" class="btn px-3 py-1.5 bg-neutral-200 dark:bg-neutral-800">IT</button>
        <button id="themeToggle" class="btn px-3 py-1.5 bg-neutral-200 dark:bg-neutral-800">🌙</button>
      </div>
    </nav>
  </header>

  <main class="mx-auto max-w-6xl px-4 py-10 space-y-16">
    <section class="text-center">
      <h1 class="text-4xl font-bold">Alessandro Chiri</h1>
      <p id="roleLine" class="mt-2 text-lg" data-i18n="subtitle">Consultant presso Deloitte • Bari, Italia</p>
      <div class="mt-6 flex items-center justify-center gap-3">
        <a href="mailto:alexch@hotmail.it" class="btn px-5 py-2 bg-blue-600 text-white" data-i18n="email">Email</a>
        <a href="https://www.linkedin.com/in/alessandro-chiri" class="btn px-5 py-2 bg-neutral-900 text-white">LinkedIn</a>
        <button id="printCv" class="btn px-5 py-2 bg-neutral-200 dark:bg-neutral-800" data-i18n="print">Stampa</button>
        <button id="pdfIt" class="btn px-5 py-2 bg-green-600 text-white">Scarica PDF (IT)</button>
        <button id="pdfEn" class="btn px-5 py-2 bg-green-600 text-white">Download PDF (EN)</button>
      </div>
    </section>

    <section>
      <h2 class="text-2xl font-semibold" data-i18n="experience">Esperienze Professionali</h2>
      <ul class="list-disc ml-6 mt-3">
        <li data-i18n="exp1">Gestione ed evoluzione della piattaforma xTech NextHub...</li>
        <li data-i18n="exp2">Scouting e matchmaking tramite Recommendation Engine basato su IA.</li>
      </ul>
    </section>

    <section>
      <h2 class="text-2xl font-semibold" data-i18n="skills">Competenze Tecniche</h2>
      <p data-i18n="skillList">UFT One, LoadRunner, Python, SQL, VBA, Jira, Confluence, Excel Pivot</p>
    </section>

    <section>
      <h2 class="text-2xl font-semibold" data-i18n="education">Formazione</h2>
      <p data-i18n="edu1">Laurea in Ingegneria Industriale (Unisalento)</p>
      <p data-i18n="edu2">Diploma Perito Industriale Capotecnico (I.T.I.S. Giorgi)</p>
    </section>

    <section>
      <h2 class="text-2xl font-semibold" data-i18n="certifications">Corsi & Certificazioni</h2>
      <ul class="list-disc ml-6 mt-3">
        <li data-i18n="cert1">LoadRunner Professional 2020 (Certified Professional)</li>
        <li data-i18n="cert2">UFT One v15.x (Certified Professional)</li>
      </ul>
    </section>

    <section>
      <h2 class="text-2xl font-semibold" data-i18n="languages">Competenze Linguistiche</h2>
      <p data-i18n="lang1">Italiano: madrelingua</p>
      <p data-i18n="lang2">Inglese: B2 (EF‑SET)</p>
    </section>
  </main>

  <footer class="mt-12 border-t">
    <div class="mx-auto max-w-6xl px-4 py-8 text-center text-sm">
      <p>&copy; <span id="year"></span> <span data-i18n="footer">Tutti i diritti riservati.</span></p>
    </div>
  </footer>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    // Dark Mode
    const html = document.documentElement;
    const themeBtn = document.getElementById('themeToggle');
    let savedTheme = localStorage.getItem('theme');
    if (savedTheme === 'dark' || (!savedTheme && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
      html.classList.add('dark');
      themeBtn.textContent = '☀️';
    }
    themeBtn.addEventListener('click', () => {
      html.classList.toggle('dark');
      const isDark = html.classList.contains('dark');
      localStorage.setItem('theme', isDark ? 'dark' : 'light');
      themeBtn.textContent = isDark ? '☀️' : '🌙';
    });

    // Traduzioni
    const translations = {
      it: {
        siteTitle: "Alessandro Chiri — CV",
        subtitle: "Consultant presso Deloitte • Bari, Italia",
        email: "Email",
        print: "Stampa",
        experience: "Esperienze Professionali",
        exp1: "Gestione ed evoluzione della piattaforma xTech NextHub...",
        exp2: "Scouting e matchmaking tramite Recommendation Engine basato su IA.",
        skills: "Competenze Tecniche",
        skillList: "UFT One, LoadRunner, Python, SQL, VBA, Jira, Confluence, Excel Pivot",
        education: "Formazione",
        edu1: "Laurea in Ingegneria Industriale (Unisalento)",
        edu2: "Diploma Perito Industriale Capotecnico (I.T.I.S. Giorgi)",
        certifications: "Corsi & Certificazioni",
        cert1: "LoadRunner Professional 2020 (Certified Professional)",
        cert2: "UFT One v15.x (Certified Professional)",
        languages: "Competenze Linguistiche",
        lang1: "Italiano: madrelingua",
        lang2: "Inglese: B2 (EF‑SET)",
        footer: "Tutti i diritti riservati."
      },
      en: {
        siteTitle: "Alessandro Chiri — Resume",
        subtitle: "Consultant at Deloitte • Bari, Italy",
        email: "Email",
        print: "Print",
        experience: "Professional Experience",
        exp1: "Management and evolution of the xTech NextHub platform...",
        exp2: "Scouting and matchmaking via AI-based Recommendation Engine.",
        skills: "Technical Skills",
        skillList: "UFT One, LoadRunner, Python, SQL, VBA, Jira, Confluence, Excel Pivot",
        education: "Education",
        edu1: "Bachelor in Industrial Engineering (Unisalento)",
        edu2: "High School Diploma in Industrial Mechanics (I.T.I.S. Giorgi)",
        certifications: "Courses & Certifications",
        cert1: "LoadRunner Professional 2020 (Certified Professional)",
        cert2: "UFT One v15.x (Certified Professional)",
        languages: "Language Skills",
        lang1: "Italian: native",
        lang2: "English: B2 (EF‑SET)",
        footer: "All rights reserved."
      }
    };

    let lang = localStorage.getItem('lang') || 'it';

    function applyLang() {
      document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (translations[lang][key]) {
          el.textContent = translations[lang][key];
        }
      });
      document.getElementById('langToggle').textContent = lang.toUpperCase();
      document.title = (lang === 'it') ? 'Alessandro Chiri — CV' : 'Alessandro Chiri — Resume';
    }

    applyLang();

    document.getElementById('langToggle').addEventListener('click', () => {
      lang = (lang === 'it') ? 'en' : 'it';
      localStorage.setItem('lang', lang);
      applyLang();
    });

    // PDF
    const printPdf = (lng) => {
      lang = lng;
      localStorage.setItem('lang', lang);
      applyLang();
      requestAnimationFrame(() => {
        const originalTitle = document.title;
        document.title = (lng === 'it') ? 'Alessandro Chiri - CV (IT)' : 'Alessandro Chiri - Resume (EN)';
        window.print();
        document.title = originalTitle;
      });
    };

    document.getElementById('pdfIt').addEventListener('click', () => printPdf('it'));
    document.getElementById('pdfEn').addEventListener('click', () => printPdf('en'));
  </script>
</body>
</html>
